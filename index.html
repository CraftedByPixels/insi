<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–µ–ª–ª–µ–Ω–¥–∂ –ø–æ —Å–Ω–∏–∂–µ–Ω–∏—é –≤–µ—Å–∞ - BetterTogether Clone</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-top">
                <h1>–ß–µ–ª–ª–µ–Ω–¥–∂ –ø–æ —Å–Ω–∏–∂–µ–Ω–∏—é –≤–µ—Å–∞ - –ö—Ç–æ –±–æ–ª—å—à–µ —Å–±—Ä–æ—Å–∏—Ç?</h1>
                <div class="theme-switcher">
                    <button class="theme-btn" data-theme="light" title="–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞">‚òÄÔ∏è</button>
                    <button class="theme-btn" data-theme="dark" title="–¢–µ–º–Ω–∞—è —Ç–µ–º–∞">üåô</button>
                    <button class="theme-btn" data-theme="blue" title="–°–∏–Ω—è—è —Ç–µ–º–∞">üåä</button>
                    <button class="theme-btn" data-theme="green" title="–ó–µ–ª–µ–Ω–∞—è —Ç–µ–º–∞">üåø</button>
                    <button class="theme-btn" data-theme="shadcn" title="Shadcn —Ç–µ–º–∞">üé®</button>
                    <button class="theme-btn" data-theme="shadcn-dark" title="Shadcn —Ç–µ–º–Ω–∞—è">üåë</button>
                </div>
            </div>
            <div class="challenge-info">
                <div class="info-card">
                    <span class="info-label">–ü–µ—Ä–∏–æ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                    <span class="info-value">25.08 - 07.09</span>
                </div>
                <div class="info-card">
                    <span class="info-label">–î–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                    <span id="daysRemaining" class="info-value">14</span>
                </div>
                <div class="info-card">
                    <span class="info-label">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂–∞:</span>
                    <span class="info-value">14 –¥–Ω–µ–π</span>
                </div>
                <div class="info-card">
                    <span class="info-label">–ü—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥:</span>
                    <span id="prizePool" class="info-value">3000 ‚ÇΩ</span>
                </div>
            </div>
        </header>

        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="dashboard" onclick="console.log('Dashboard tab clicked')">–î–∞—à–±–æ—Ä–¥</button>
            <button class="nav-tab" data-tab="participants" onclick="console.log('Participants tab clicked')">–£—á–∞—Å—Ç–Ω–∏–∫–∏</button>
            <button class="nav-tab" data-tab="weight-entry" onclick="console.log('Weight entry tab clicked')">–í–≤–æ–¥ –≤–µ—Å–∞</button>
        </nav>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard-grid">
                <div class="card stats-overview">
                    <h3>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="totalParticipants">0</div>
                            <div class="stat-label">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="averageProgress">0%</div>
                            <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalWeightLost">0 –∫–≥</div>
                            <div class="stat-label">–í—Å–µ–≥–æ —Å–±—Ä–æ—à–µ–Ω–æ</div>
                        </div>
                    </div>
                </div>

                <div class="card leaderboard-preview">
                    <h3>–†–µ–π—Ç–∏–Ω–≥ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h3>
                    <div id="allParticipantsRanking" class="all-participants-ranking"></div>
                </div>

                <div class="card chart-container" style="position: relative; height: 400px;">
                    <div class="chart-header">
                        <h3>–ü—Ä–æ–≥—Ä–µ—Å—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –¥–Ω—è–º —á–µ–ª–ª–µ–Ω–¥–∂–∞ (%)</h3>
                        <button class="btn btn--secondary" onclick="exportData()">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    </div>
                    <canvas id="groupProgressChart"></canvas>
                </div>
                
                <div class="card chart-container" style="position: relative; height: 400px;">
                    <div class="chart-header">
                        <h3>–í–µ—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –¥–Ω—è–º —á–µ–ª–ª–µ–Ω–¥–∂–∞ (–∫–≥)</h3>
                    </div>
                    <canvas id="groupWeightChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Participants Tab -->
        <div id="participants" class="tab-content">
            <div class="section-header">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏</h2>
                <button class="btn btn--primary" onclick="showAddParticipantModal()">–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</button>
            </div>
            
            <div class="participants-grid" id="participantsList"></div>
        </div>

        <!-- Weight Entry Tab -->
        <div id="weight-entry" class="tab-content">
            <div class="section-header">
                <h2>–í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –æ –≤–µ—Å–µ</h2>
                <div class="date-selector">
                    <label for="entryDate">–î–∞—Ç–∞:</label>
                    <input type="date" id="entryDate" class="form-control">
                </div>
                <button class="btn btn--primary" onclick="showAdminPasswordModal()">–í–≤–æ–¥ –≤–µ—Å–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</button>
            </div>
            
            <div class="weight-entry-grid" id="weightEntryList"></div>
            
            <div class="section-actions">
                <button class="btn btn--primary" onclick="saveWeightEntries()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                <button class="btn btn--danger" onclick="clearAllData()" style="margin-left: 10px;">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
            </div>
        </div>


    </div>

    <!-- Admin Password Modal -->
    <div id="adminPasswordModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ—Å—Ç—É–ø –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
                <button class="modal-close" onclick="hideAdminPasswordModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="adminPassword">–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</label>
                    <input type="password" id="adminPassword" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn--primary" onclick="checkAdminPassword()">–í–æ–π—Ç–∏</button>
                    <button type="button" class="btn btn--secondary" onclick="hideAdminPasswordModal()">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Participant Modal -->
    <div id="addParticipantModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</h3>
                <button class="modal-close" onclick="hideAddParticipantModal()">&times;</button>
            </div>
            <form id="addParticipantForm" class="modal-body">
                <div class="challenge-notice">
                    <p><strong>–í–∞–∂–Ω–æ:</strong> –£—á–∞—Å—Ç–Ω–∏–∫ –Ω–∞—á–Ω–µ—Ç —Å–≤–æ–π 14-–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂ —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç—ã.</p>
                    <p>–ü–µ—Ä–∏–æ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 25.08.2025 - 07.09.2025</p>
                    <p>–ü–æ–±–µ–¥–∏—Ç —Ç–æ—Ç, –∫—Ç–æ —Å–±—Ä–æ—Å–∏—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤–µ—Å–∞ –∑–∞ —Å–≤–æ–∏ 14 –¥–Ω–µ–π!</p>
                </div>
                <div class="form-group">
                    <label class="form-label" for="participantName">–ò–º—è:</label>
                    <input type="text" id="participantName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="startWeight">–ù–∞—á–∞–ª—å–Ω—ã–π –≤–µ—Å (–∫–≥):</label>
                    <input type="number" id="startWeight" class="form-control" step="0.1" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —É—á–∞—Å—Ç–∏–µ">
                    <small class="form-help">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —É—á–∞—Å—Ç–∏–µ –≤ –±—É–¥—É—â–µ–º</small>
                </div>
                <div class="form-group">
                    <label class="form-label" for="joinDate">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞:</label>
                    <input type="date" id="joinDate" class="form-control" required>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn btn--secondary" onclick="hideAddParticipantModal()">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" form="addParticipantForm" class="btn btn--primary">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Edit Participant Modal -->
    <div id="editParticipantModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</h3>
                <button class="modal-close" onclick="hideEditParticipantModal()">&times;</button>
            </div>
            <form id="editParticipantForm" class="modal-body">
                <input type="hidden" id="editParticipantId">
                <div class="form-group">
                    <label class="form-label" for="editParticipantName">–ò–º—è:</label>
                    <input type="text" id="editParticipantName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="editStartWeight">–ù–∞—á–∞–ª—å–Ω—ã–π –≤–µ—Å (–∫–≥):</label>
                    <input type="number" id="editStartWeight" class="form-control" step="0.1" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —É—á–∞—Å—Ç–∏–µ">
                    <small class="form-help">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —É—á–∞—Å—Ç–∏–µ –≤ –±—É–¥—É—â–µ–º</small>
                </div>
                <div class="form-group">
                    <label class="form-label" for="editJoinDate">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞:</label>
                    <input type="date" id="editJoinDate" class="form-control" required>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn btn--secondary" onclick="hideEditParticipantModal()">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" form="editParticipantForm" class="btn btn--primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>